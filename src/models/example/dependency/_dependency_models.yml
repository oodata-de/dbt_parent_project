version: 2

models:
  - name: f2
    description: "Fact model joining d1, d2, and r4 for reporting-level measures."
    columns:
      - name: id
        description: "Surrogate key shared across d1, d2, and r4."
      - name: r1_val
        description: "Value from d1 (r1.val)."
      - name: r3_val
        description: "Value surfaced from dependency.r3 via d2."
      - name: r4_val
        description: "Value from dependency.r4 joined by id."

  - name: d1
    description: "Dimension built from source dependency.r1 joined to dlt.r2 to expose r1 attributes."
    columns:
      - name: id
        description: "Primary identifier from source dependency.r1."
      - name: r1_val
        description: "Attribute value from dependency.r1."
      - name: r2_val
        description: "Attribute value joined from dlt.r2."

  - name: d2
    description: "Dimension built from dlt.r2 joined to dependency.r3; includes a constant flag."
    columns:
      - name: id
        description: "Primary identifier from dlt.r2."
      - name: r2_val
        description: "Attribute value from dlt.r2."
      - name: r3_val
        description: "Attribute value from dependency.r3."
      - name: fixed_value
        description: "Literal constant column (value = 1)."